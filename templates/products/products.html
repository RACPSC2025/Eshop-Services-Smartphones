{% extends 'base.html' %} 
{% load static %} 

{% block title %}Catálogo Completo | MiXiaomiUnlock{% endblock %} 

{% block content %}
<div class="font-display animate-fade-in bg-[#F5F5F7] dark:bg-background-dark min-h-screen pt-4 pb-20">
    
    <!-- Header -->
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8 mb-8">
        <h1 class="text-4xl font-bold text-primary dark:text-white tracking-tight mb-2">Catálogo</h1>
        <p class="text-gray-500 dark:text-gray-400">Todos nuestros productos y servicios.</p>
        <div class="h-1 w-16 bg-gradient-to-r from-xiaomi to-accent rounded-full mt-4"></div>
    </div>

    <!-- Grid Layout -->
    <div class="max-w-[1400px] mx-auto px-4 sm:px-6 lg:px-8">
        {% if products %}
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 items-start">
                {% for product in products %}
                    {% include 'components/product_card.html' with product=product %}
                {% endfor %}
            </div>
        {% else %}
            <!-- Empty State -->
            <div class="flex flex-col items-center justify-center py-20 text-center">
                <div class="w-24 h-24 bg-gray-100 dark:bg-card-dark rounded-full flex items-center justify-center mb-4">
                    <span class="material-icons text-4xl text-gray-400">search_off</span>
                </div>
                <h3 class="text-xl font-bold text-gray-900 dark:text-white mb-2">No encontramos productos</h3>
                <p class="text-gray-500 dark:text-gray-400 max-w-sm">
                    Intenta regresar más tarde, estamos actualizando nuestro inventario.
                </p>
                <a href="{% url 'pages:home' %}" class="mt-6 px-6 py-2.5 bg-primary dark:bg-white text-white dark:text-black rounded-xl font-bold text-sm hover:opacity-90 transition-opacity">
                    Volver al Inicio
                </a>
            </div>
        {% endif %}

        <!-- Optimized Pagination -->
        {% if is_paginated %}
        <div class="flex justify-center mt-12 gap-2">
            {% if page_obj.has_previous %}
                <a href="?page={{ page_obj.previous_page_number }}" class="w-10 h-10 flex items-center justify-center rounded-lg bg-white dark:bg-card-dark border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
                    <span class="material-icons">chevron_left</span>
                </a>
            {% endif %}

            <span class="px-4 h-10 flex items-center justify-center rounded-lg bg-primary dark:bg-white text-white dark:text-black font-bold">
                {{ page_obj.number }}
            </span>

            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}" class="w-10 h-10 flex items-center justify-center rounded-lg bg-white dark:bg-card-dark border border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors">
                    <span class="material-icons">chevron_right</span>
                </a>
            {% endif %}
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}
